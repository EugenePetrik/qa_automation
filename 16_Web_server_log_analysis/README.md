# Анализ логов веб-серверов

```
В качестве источника логов взять логи opencart.
1. Написать скрипт анализа access.log для Apache или Nginx

Требования к реализации:
1. Должна быть возможность указать директорию где искать логи или конкретный файл
2. Должна быть возможность выбрать все файлы логов отпарсить или только заданный
3. В случае если файл не может быть обработан, то скрипт должен завершится с ошибкой
4. Для access.log должна собираться следующая информация:
- общее количество выполненных запросов
- количество запросов по типу: GET - 20, POST - 10 и т.п.
- топ 10 IP адресов, с которых были сделаны запросы
- топ 10 самых долгих запросов, должно быть видно метод, url, ip, время запроса
- топ 10 запросов, которые завершились клиентской ошибкой, должно быть видно метод, url, статус код, ip адрес
- топ 10 запросов, которые завершились ошибкой со стороны сервера, должно быть видно метод, url, статус код, ip адрес
5. Собранная статистика должна быть сохранена в JSON-файл 
6. Должен быть README файл, который описывает как работает скрипт
```

### How to use:
* Необходимо скачать /`0.log`, /logs/`1.log`, /logs/`2.log`:
```sh
~ wget -O 0.log "https://cloclo17.cldmail.ru/jGufgfAz8FLM6MTCiNg/G/5drX/qmKSUUv1R?key=1eba8bed779ddb56f234ee847df177bf91998f8f&key=1eba8bed779ddb56f234ee847df177bf91998f8f" && mkdir logs && cd logs && wget -O 1.log "https://cloclo21.cldmail.ru/o4LK8YGKKKLacopqgMi/G/3Cy8/2BRXF2ry6?key=1eba8bed779ddb56f234ee847df177bf91998f8f&key=1eba8bed779ddb56f234ee847df177bf91998f8f" && wget -O 2.log "https://cloclo14.cldmail.ru/hKWHTYNsUoVkpT3qMCk/G/rBNh/21YWK2VmC?key=1eba8bed779ddb56f234ee847df177bf91998f8f&key=1eba8bed779ddb56f234ee847df177bf91998f8f" && cd ..
```
* Для парсинга файла:
```sh
~ python3 log_parser.py --file='0.log'
```
* Для парсинга директории:
```sh
~ python3 log_parser.py --directory='logs'
```